
import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas,for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with HotelName,Hotel address,Price, hotel image url,geo coordinates,rating,descriptions and suggest itinerary with placeName,Place Details,Place Image Url, Geo Coordinates,ticket Pricing,rating,Time plan to travel each of the location(Morning (9:00 AM - 12:00 PM) like this for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed daily plans, all in JSON format.  I've focused on free or low-cost activities and affordable food options.\n\n```json\n{\n  \"tripName\": \"Las Vegas on a Budget: 3-Day Couple's Getaway\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"location\": \"Las Vegas, NV\",\n  \"duration\": \"3 Days\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageUrl\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/273951177.jpg?k=495897d97a15556c03c0d934d4076010c2a784728f8677910a9c852344470198&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1295,\n        \"longitude\": -115.1653\n      },\n      \"rating\": 6.5,\n      \"description\": \"Budget-friendly hotel on the Strip with a circus theme, free circus acts, and a small amusement park (Adventuredome) inside. Rooms are basic but clean.  Good for families or those looking for a cheap place to stay on the Strip.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/164228516.jpg?k=8bb380b5a7646a9682a12377076aa856e882177fd060a3469cfb4c1ed131537d&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1474,\n        \"longitude\": -115.1556\n      },\n      \"rating\": 7.0,\n      \"description\": \"Located at the north end of the Strip, offering incredible views from the tower.  Rooms are decent, and the price is often lower than mid-Strip hotels.  Consider transportation costs to other attractions.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": 55,\n      \"hotelImageUrl\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/293995681.jpg?k=a86816157684a49c87701b7f0760626e1b680340a147b4b651e19c7f34f36343&o=&hp=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1764\n      },\n      \"rating\": 7.5,\n      \"description\": \"Iconic pyramid-shaped hotel at the south end of the Strip.  Rooms are inside the pyramid, offering a unique experience.  Often has affordable rates. Walking distance to Mandalay Bay and Excalibur.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for photo opportunities. Free to visit.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Las_Vegas_Sign_Night.jpg/1280px-Las_Vegas_Sign_Night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1733\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Early morning to avoid crowds and the midday heat.\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 5:00 PM)\",\n          \"placeName\": \"Luxor Hotel & Casino\",\n          \"placeDetails\": \"Explore the pyramid, see the light beam at night. Wander through the hotel and casino.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Luxor_Hotel_Las_Vegas_Nevada_USA.jpg/1280px-Luxor_Hotel_Las_Vegas_Nevada_USA.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0956,\n            \"longitude\": -115.1764\n          },\n          \"ticketPricing\": \"Free to enter; attractions inside may have fees.\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Afternoon to escape the heat outside.\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 9:00 PM)\",\n          \"placeName\": \"Excalibur Hotel & Casino\",\n          \"placeDetails\": \"Medieval-themed hotel.  Free to walk around.  See the Tournament of Kings show if budget allows (can find discounted tickets).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Excalibur_Hotel_Las_Vegas_Nevada_USA.jpg/1280px-Excalibur_Hotel_Las_Vegas_Nevada_USA.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0987,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free to enter; shows have varying prices.\",\n          \"rating\": 3.8,\n          \"bestTimeToVisit\": \"Evening for atmosphere and potential show times.\"\n        },\n         {\n          \"time\": \"Night (9:00 PM - 12:00 AM)\",\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Free water show every 30 minutes (every 15 minutes on weekends).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Bellagio_fountains_at_night.jpg/1280px-Bellagio_fountains_at_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"bestTimeToVisit\": \"Night for the best visual experience.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Head downtown (take the bus or rideshare). Explore Fremont Street during the day. Free to walk around and see the shops and street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Fremont_Street_Experience_Las_Vegas_Nevada_2012.jpg/1280px-Fremont_Street_Experience_Las_Vegas_Nevada_2012.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"bestTimeToVisit\": \"Morning - less crowded to walk around freely\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 5:00 PM)\",\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area made from shipping containers.  Free to enter. Has a playground and other attractions.\",\n          \"placeImageUrl\": \"https://www.vegas4locals.com/wp-content/uploads/2021/04/Downtown-Container-Park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1403\n          },\n          \"ticketPricing\": \"Free to enter.\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Afternoon to browse and grab a cheap lunch.\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 9:00 PM)\",\n          \"placeName\": \"Fremont Street Light Show\",\n          \"placeDetails\": \"Free light and sound shows on the Viva Vision canopy above Fremont Street.  Shows run frequently.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Viva_Vision_Las_Vegas_Nevada_USA.jpg/1280px-Viva_Vision_Las_Vegas_Nevada_USA.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"bestTimeToVisit\": \"Evening/Night - shows start after dark.\"\n        },\n        {\n          \"time\": \"Night (9:00 PM - 12:00 AM)\",\n          \"placeName\": \"Gambling at Downtown Casinos\",\n          \"placeDetails\": \"Explore some of the older, classic casinos downtown (Golden Nugget, Binion's).  Set a small budget and enjoy some low-stakes gambling.\",\n          \"placeImageUrl\": \"https://www.casino.org/news/wp-content/uploads/2022/07/golden-nugget-las-vegas-casino.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1439\n          },\n          \"ticketPricing\": \"Varies based on gambling budget.\",\n          \"rating\": 4.0,\n          \"bestTimeToVisit\": \"Night for the vibrant casino atmosphere.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"The Strip (Mid-Section) & Departure\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping and dining area.  Free to walk around.  Consider riding the High Roller Observation Wheel if budget allows (look for discounts).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg/1280px-The_LINQ_Promenade%2C_Las_Vegas%2C_Nevada.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1164,\n            \"longitude\": -115.1704\n          },\n          \"ticketPricing\": \"Free to enter; High Roller tickets vary.\",\n          \"rating\": 4.3,\n          \"bestTimeToVisit\": \"Morning before it gets too crowded.\"\n        },\n        {\n          \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free volcano show in front of the Mirage hotel. Shows typically run in the evenings, but check the schedule for possible daytime showings.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Mirage_volcano.jpg/1280px-Mirage_volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1754\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"bestTimeToVisit\": \"Check schedule; typically evening, but potentially afternoon.\"\n        },\n         {\n          \"time\": \"Afternoon (3:00 PM - 6:00 PM)\",\n          \"placeName\": \"Caesars Palace & Forum Shops\",\n          \"placeDetails\": \"Explore the Roman-themed Caesars Palace and the upscale Forum Shops. Window shopping is free! See the Atlantis show if time allows (free).\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Caesars_Palace_%28front%29.jpg/1280px-Caesars_Palace_%28front%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1758\n          },\n          \"ticketPricing\": \"Free to enter; shows are free.\",\n          \"rating\": 4.5,\n          \"bestTimeToVisit\": \"Afternoon for indoor activities.\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM - Onward)\",\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your departure.\",\n          \"placeImageUrl\": null,\n          \"geoCoordinates\": null,\n          \"ticketPricing\": null,\n          \"rating\": null,\n          \"bestTimeToVisit\": \"N/A\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Bellagio fountains, Mirage volcano, and Fremont Street Experience.\",\n    \"Walk the Strip instead of taking taxis or rideshares. Use the Deuce bus for longer distances.\",\n    \"Eat at affordable restaurants and fast-food options.  Look for happy hour deals.\",\n    \"Take advantage of free drinks while gambling (but gamble responsibly!).\",\n    \"Consider bringing your own snacks and drinks to save money.\",\n    \"Look for hotel deals and discounts online.\",\n    \"Visit during the off-season (summer can be very hot and expensive).\"\n  ],\n  \"foodSuggestions\": [\n      \"In-N-Out Burger (classic and affordable)\",\n      \"Secret Pizza at Cosmopolitan (late-night snack)\",\n      \"Ocean One Bar & Grille in Miracle Mile Shops (cheap lunch specials)\",\n      \"Ellis Island Casino (cheap steak special)\",\n      \"White Castle (if you're craving sliders)\"\n  ],\n  \"transportationTips\": [\n    \"McCarran Airport is close to the strip, so a rideshare will be fairly cheap.\",\n    \"Consider using the RTC's Deuce bus for traveling along the Strip, or walking when possible.\",\n    \"If you're planning on doing a lot of traveling via transit during your stay, consider purchasing a day pass. \"\n  ]\n}\n```\n\n**Key Improvements and Explanations:**\n\n*   **JSON Format:**  The entire response is now valid JSON.  I've paid close attention to syntax (commas, brackets, quotes). You can copy and paste this directly into a JSON validator or use it in a program.\n*   **Detailed Itinerary:** Each day includes multiple locations with specific times, descriptions, image URLs, geo-coordinates, ticket prices (or \"Free\"), ratings, and **best time to visit**.\n*   **Realistic Budget:** The hotel options are genuinely affordable, and the activities are mostly free or low-cost.\n*   **Transportation:** I've added transportation tips, including using the Deuce bus and ridesharing from the airport.\n*   **Food Suggestions:** Specific, budget-friendly food options are included.\n*   **Hotel Information:** The hotel list includes price estimates, image URLs, geo-coordinates, ratings, and descriptions.\n*   **Clear Time Blocks:** The `time` field is formatted as \"Morning (9:00 AM - 12:00 PM)\" for clarity.\n*   **Image URLs:** I've included URLs for the images, so you can easily display them in your application.\n*   **Geo-Coordinates:** Geo-coordinates are included for all locations, which can be used for mapping applications.\n*   **Descriptions:** I've added a brief description for the hotels.\n*   **Departure:** Day 3 now includes the departure plan.\n\n**How to Use This JSON:**\n\n1.  **Copy the JSON:** Copy the entire block of code above.\n2.  **Paste into a JSON Validator:**  Go to a website like `jsonlint.com` or `jsonformatter.org` to validate that the JSON is correct. This is *crucial* before you try to use it in your application.\n3.  **Parse the JSON:**  Use a JSON parsing library in your programming language (e.g., `JSON.parse()` in JavaScript, `json.loads()` in Python) to convert the JSON string into a data structure you can work with.\n4.  **Access the Data:**  Once parsed, you can access the data like this (examples in JavaScript):\n\n```javascript\nconst data = JSON.parse(yourJsonString);\n\n// Access the hotel name\nconst hotelName = data.hotelOptions[0].hotelName; // \"Circus Circus Hotel, Casino & Theme Park\"\n\n// Access the first day's first activity\nconst firstDayFirstActivity = data.itinerary.day1.plan[0];\nconst activityName = firstDayFirstActivity.placeName; // \"Welcome to Las Vegas Sign\"\nconst activityTime = firstDayFirstActivity.time; // \"Morning (9:00 AM - 12:00 PM)\"\n```\n\nThis comprehensive response provides a solid foundation for building a Las Vegas travel application or simply planning a trip!  Remember to adjust prices and showtimes based on current information when you actually book your trip.\n"},
          ],
        },
      ],
    });
  
   
  
  
